import './Search.scss';

import { useRef, useEffect, useState } from 'react';


function Search() {

	const inputRef = useRef(null);
    const [isSearchVisible, setIsSearchVisible] = useState(false);

    const toggleSearch = () => {
        setIsSearchVisible(!isSearchVisible);
    };

    const handleClickOutside = (event) => {
        if (inputRef.current && !inputRef.current.contains(event.target)) {
            setIsSearchVisible(false);
        }
    };

    useEffect(() => {
        document.addEventListener('click', handleClickOutside);
        return () => {
            document.removeEventListener('click', handleClickOutside);
        };
    }, []);

	return (
		<div className="Search">
			<form className="Search__form" action="">

				<label htmlFor="search" className={`${isSearchVisible ? 'is--out' : ''}`}>
					البحث عن معامله
					<strong> او خدمة ... </strong>
				</label>

				<label htmlFor="search" className={`${isSearchVisible ? '' : 'is--out'}`}>
					طلب |
					<strong>خادم</strong>
				</label>

				<input type="email" name="search" id="search" ref={inputRef} onFocus={toggleSearch}/>
				<button>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="none"
						viewBox="0 0 27 27"
						width="27"
						height="27"
						stroke="currentColor"
						strokeWidth="1.5"
						strokeLinecap="round"
						strokeLinejoin="round"
					>
						<circle cx="13.376" cy="13.177" r="9.669" />
						<path d="M20.102 20.406l3.79 3.781" opacity=".6" />
					</svg>
				</button>
			</form>
			<div className={`Search__response ${isSearchVisible ? 'is--open' : ''}`}>
				<ul>
					<li>
						<a href="">
							<div className="Search__response-right">
								<span>
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16">
										<path fill="#688137" d="M12.711 7.168H3.568a2.147 2.147 0 0 1-2.144-2.144V3.38c0-1.181.962-2.144 2.144-2.144h9.143c1.182 0 2.144.963 2.144 2.144v1.644a2.147 2.147 0 0 1-2.144 2.144Zm-9.15-5c-.668 0-1.206.543-1.206 1.206v1.644c0 .668.544 1.206 1.206 1.206h9.144c.669 0 1.206-.544 1.206-1.206V3.374c0-.669-.543-1.206-1.206-1.206H3.561ZM12.711 14.668H3.568a2.147 2.147 0 0 1-2.144-2.144V10.88c0-1.181.962-2.144 2.144-2.144h9.143c1.182 0 2.144.963 2.144 2.144v1.644a2.147 2.147 0 0 1-2.144 2.144Zm-9.15-5c-.668 0-1.206.543-1.206 1.206v1.644c0 .668.544 1.206 1.206 1.206h9.144c.669 0 1.206-.544 1.206-1.206v-1.644c0-.669-.543-1.206-1.206-1.206H3.561Z"/>
										<path fill="#688137" d="M4.386 5.292a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM6.886 5.292a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM4.386 12.792a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM6.886 12.792a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM11.886 4.667h-2.5a.472.472 0 0 1-.469-.469c0-.256.212-.469.469-.469h2.5c.256 0 .469.213.469.47a.472.472 0 0 1-.47.468ZM11.886 12.167h-2.5a.472.472 0 0 1-.469-.469c0-.256.212-.469.469-.469h2.5c.256 0 .469.213.469.47a.472.472 0 0 1-.47.468Z"/>
									</svg>
								</span>
								<strong>
									اعداد طلب خادم
								</strong>
							</div>
							<div className="Search__response-left">
								الطلبات
							</div>
						</a>
					</li>
					<li>
						<a href="">
							<div className="Search__response-right">
								<span>
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16">
										<path fill="#688137" d="M12.711 7.168H3.568a2.147 2.147 0 0 1-2.144-2.144V3.38c0-1.181.962-2.144 2.144-2.144h9.143c1.182 0 2.144.963 2.144 2.144v1.644a2.147 2.147 0 0 1-2.144 2.144Zm-9.15-5c-.668 0-1.206.543-1.206 1.206v1.644c0 .668.544 1.206 1.206 1.206h9.144c.669 0 1.206-.544 1.206-1.206V3.374c0-.669-.543-1.206-1.206-1.206H3.561ZM12.711 14.668H3.568a2.147 2.147 0 0 1-2.144-2.144V10.88c0-1.181.962-2.144 2.144-2.144h9.143c1.182 0 2.144.963 2.144 2.144v1.644a2.147 2.147 0 0 1-2.144 2.144Zm-9.15-5c-.668 0-1.206.543-1.206 1.206v1.644c0 .668.544 1.206 1.206 1.206h9.144c.669 0 1.206-.544 1.206-1.206v-1.644c0-.669-.543-1.206-1.206-1.206H3.561Z"/>
										<path fill="#688137" d="M4.386 5.292a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM6.886 5.292a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM4.386 12.792a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM6.886 12.792a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM11.886 4.667h-2.5a.472.472 0 0 1-.469-.469c0-.256.212-.469.469-.469h2.5c.256 0 .469.213.469.47a.472.472 0 0 1-.47.468ZM11.886 12.167h-2.5a.472.472 0 0 1-.469-.469c0-.256.212-.469.469-.469h2.5c.256 0 .469.213.469.47a.472.472 0 0 1-.47.468Z"/>
									</svg>
								</span>
								<strong>
									اعداد طلب خادم
								</strong>
							</div>
							<div className="Search__response-left">
								الطلبات
							</div>
						</a>
					</li>
					<li>
						<a href="">
							<div className="Search__response-right">
								<span>
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16">
										<path fill="#688137" d="M12.711 7.168H3.568a2.147 2.147 0 0 1-2.144-2.144V3.38c0-1.181.962-2.144 2.144-2.144h9.143c1.182 0 2.144.963 2.144 2.144v1.644a2.147 2.147 0 0 1-2.144 2.144Zm-9.15-5c-.668 0-1.206.543-1.206 1.206v1.644c0 .668.544 1.206 1.206 1.206h9.144c.669 0 1.206-.544 1.206-1.206V3.374c0-.669-.543-1.206-1.206-1.206H3.561ZM12.711 14.668H3.568a2.147 2.147 0 0 1-2.144-2.144V10.88c0-1.181.962-2.144 2.144-2.144h9.143c1.182 0 2.144.963 2.144 2.144v1.644a2.147 2.147 0 0 1-2.144 2.144Zm-9.15-5c-.668 0-1.206.543-1.206 1.206v1.644c0 .668.544 1.206 1.206 1.206h9.144c.669 0 1.206-.544 1.206-1.206v-1.644c0-.669-.543-1.206-1.206-1.206H3.561Z"/>
										<path fill="#688137" d="M4.386 5.292a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM6.886 5.292a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM4.386 12.792a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM6.886 12.792a.472.472 0 0 1-.469-.469v-1.25c0-.256.212-.469.469-.469.256 0 .468.213.468.47v1.25a.472.472 0 0 1-.468.468ZM11.886 4.667h-2.5a.472.472 0 0 1-.469-.469c0-.256.212-.469.469-.469h2.5c.256 0 .469.213.469.47a.472.472 0 0 1-.47.468ZM11.886 12.167h-2.5a.472.472 0 0 1-.469-.469c0-.256.212-.469.469-.469h2.5c.256 0 .469.213.469.47a.472.472 0 0 1-.47.468Z"/>
									</svg>
								</span>
								<strong>
									اعداد طلب خادم
								</strong>
							</div>
							<div className="Search__response-left">
								الطلبات
							</div>
						</a>
					</li>
				</ul>
			</div>
		</div>
	)
}
export default Search;
